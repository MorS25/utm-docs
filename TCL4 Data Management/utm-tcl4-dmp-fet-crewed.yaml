info:
  description: >-
    "TCL4 will require the submission of test data.  Some of these data are not
    readily collected via UTM means.  The models presented in this domain are in
    support of such data that are not readily collected otherwise.  Some of
    these data will be collected live, some after testing, but all should be
    collected as a soon as feasible.  Further details will be provided in other
    testing documentation."
  version: 'v1'
  title: "Domain for Flight Essential Telemetry for crewed aircraft."
  contact:
    name: 'NASA Ames Research Center, Aviation Systems Division'
    url: 'https://utm.arc.nasa.gov/'
    email: joseph.rios@nasa.gov

definitions:
  FlightEssentialTelemetryCrewed:
    description: >-
      Time dependent data for a crewed Operation within TCL4.
    required:
      - "fet_id"
      - "call_sign"
      - "test_run"
      - "test_card"
      - "position"
    properties:
      fet_id:
        description: >-
          unique id for this data submission.
        type: string
        format: uuid
        maxLength: 36
        minLength: 36
        pattern: "^[0-9a-fA-F]{8}\\-[0-9a-fA-F]{4}\\-4[0-9a-fA-F]{3}\\-[8-b][0-9a-fA-F]{3}\\-[0-9a-fA-F]{12}$"
        example: "00000000-0000-4444-8888-FEEDDEADBEEF"
      call_sign:
        description: >-
          Within the pilot test cards, this operation should have a unique
          call_sign.  This value must be provided here.
        type: string
        maxLength: 100
        example: "Tootsie88"
      test_card:
        description: >-
          The official test card string.
        type: string
        maxLength: 100
        example: "NVS1C3"
      test_run:
        description: >-
          The run of this test card.  Many test cards will be run once, but
          many may have several runs for various reasons, planned an unplanned.
        type: integer
        format: int32
        example: 3
      position:
        description: >-
          This model leverages the existing Position model for sUAS.  The main
          issue with this approach is the required "gufi" field.  This operation
          will likely not have a gufi.  So, even though gufi is required in the
          referenced Position model, the value supplied need not reference an Operation
          known to UTM.  The value needs to be a valid UUIDv4, but it will not
          be cross-checked against any other operational data.

          Also note that there is an additional unique identifier in the Position
          model.  This value must be equal to fet_id despite the redundancy of
          redundant information provided more than once.
        $ref: 'https://raw.githubusercontent.com/nasa/utm-apis/v4-draft/utm-domains/utm-domain-commons.yaml#/definitions/Position'
